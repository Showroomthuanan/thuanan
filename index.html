<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Qu·∫£n l√Ω Gh√©p Xe</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.4/xlsx.full.min.js"></script>
<style>
body { background-color: #f4f4f9; }
.container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
h2 { text-align: center; color: #343a40; }
.table-container { max-height: 400px; overflow-y: auto; }
.btn-custom { margin-right: 10px; }
.hidden { display: none; }
</style>
</head>
<body>
<div id="loginContainer" class="container mt-5">
<h2 class="text-center">ƒêƒÉng Nh·∫≠p</h2>
<div class="mb-3">
<label for="username" class="form-label">T√™n ƒëƒÉng nh·∫≠p</label>
<input type="text" id="username" class="form-control">
</div>
<div class="mb-3">
<label for="password" class="form-label">M·∫≠t kh·∫©u</label>
<input type="password" id="password" class="form-control">
</div>
<button id="loginBtn" class="btn btn-primary w-100">ƒêƒÉng nh·∫≠p</button>
</div>

<div id="mainContent" class="container mt-4 hidden">
<h2><i class="fa-solid fa-car"></i> H·ªá Th·ªëng Qu·∫£n L√Ω Gh√©p Xe</h2>
<div class="d-flex justify-content-between mb-3">
<button class="btn btn-success btn-custom" id="loadData"><i class="fa-solid fa-sync"></i> T·∫£i D·ªØ Li·ªáu</button>
<button class="btn btn-primary btn-custom" id="exportData"><i class="fa-solid fa-file-excel"></i> Xu·∫•t Excel</button>
</div>
<form id="carForm" class="mb-4 hidden">
<div class="row">
<div class="col-md-3"><input type="text" class="form-control" placeholder="üßë‚Äçüíº T∆∞ v·∫•n b√°n h√†ng" id="seller"></div>
<div class="col-md-3"><input type="text" class="form-control" placeholder="üöó D√≤ng xe" id="carModel"></div>
<div class="col-md-3"><input type="text" class="form-control" placeholder="üî¢ Phi√™n b·∫£n" id="version"></div>
<div class="col-md-3"><input type="text" class="form-control" placeholder="üé® Ngo·∫°i th·∫•t" id="exterior"></div>
<div class="col-md-3"><input type="text" class="form-control" placeholder="üõãÔ∏è N·ªôi th·∫•t" id="interior"></div>
<div class="col-md-3"><input type="text" class="form-control" placeholder="üÜî S·ªë ƒë∆°n h√†ng" id="orderNumber"></div>
<div class="col-md-3"><input type="text" class="form-control" placeholder="üë§ T√™n kh√°ch h√†ng" id="customer"></div>
<div class="col-md-3"><input type="date" class="form-control" id="depositDate"></div>
<div class="col-md-3"><input type="text" class="form-control" placeholder="üí∞ T√¨nh tr·∫°ng thanh to√°n" id="paymentStatus"></div>
<div class="col-md-3">
<button type="button" class="btn btn-warning" id="requestApproval"><i class="fa-solid fa-paper-plane"></i> G·ª≠i Ph√™ Duy·ªát</button>
</div>
</div>
</form>
<div class="table-container">
<table class="table table-striped text-center">
<thead class="table-dark">
<tr>
<th>T∆∞ v·∫•n b√°n h√†ng</th>
<th>D√≤ng xe</th>
<th>Phi√™n b·∫£n</th>
<th>Ngo·∫°i th·∫•t</th>
<th>N·ªôi th·∫•t</th>
<th>S·ªë ƒë∆°n h√†ng</th>
<th>T√™n kh√°ch h√†ng</th>
<th>Ng√†y c·ªçc</th>
<th>T√¨nh tr·∫°ng thanh to√°n</th>
<th class="admin-only">S·ªë VIN</th>
<th class="admin-only">Ng√†y Nh·∫≠p</th>
<th class="admin-only">V·ªã Tr√≠ Xe</th>
<th>Tr·∫°ng th√°i</th>
<th class="admin-only">Ph√™ Duy·ªát</th>
</tr>
</thead>
<tbody id="carList"></tbody>
</table>
</div>
</div>
<script>
let isAdmin = false;

$(document).ready(function() {
$('#loginBtn').click(function() {
let username = $('#username').val();
let password = $('#password').val();

if (username === "admin" && password === "admin123") {
isAdmin = true;
$('#loginContainer').hide();
$('#mainContent').removeClass('hidden');
} else if (username === "tvbh" && password === "tvbh123") {
isAdmin = false;
$('#loginContainer').hide();
$('#mainContent').removeClass('hidden');
$('#carForm').removeClass('hidden');
} else {
alert("Sai t√™n ƒëƒÉng nh·∫≠p ho·∫∑c m·∫≠t kh·∫©u!");
}
});

$('#requestApproval').click(function() {
let newRow = `<tr>
<td>${$('#seller').val()}</td>
<td>${$('#carModel').val()}</td>
<td>${$('#version').val()}</td>
<td>${$('#exterior').val()}</td>
<td>${$('#interior').val()}</td>
<td>${$('#orderNumber').val()}</td>
<td>${$('#customer').val()}</td>
<td>${$('#depositDate').val()}</td>
<td>${$('#paymentStatus').val()}</td>
<td class="admin-only"></td>
<td class="admin-only"></td>
<td class="admin-only"></td>
<td><span class="badge bg-warning">Ch·ªù duy·ªát</span></td>
<td class="admin-only"><button class="btn btn-success btn-sm approve-btn">Ph√™ Duy·ªát</button></td>
</tr>`;
$('#carList').append(newRow);
$('#carForm')[0].reset();
});
});
</script>
</body>
</html>
